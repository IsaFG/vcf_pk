source("https://bioconductor.org/biocLite.R")
biocLite()
install.packages("Rcurl")
install.packages("RCurl")
install.packages("jsonlite")
library(RCurl)
library(jsonlite)
query<-getURL("bioinfo.hpc.cam.ac.uk/cellbase/webservices/rest/latest/hsapiens/genomic/region/3:1000-200000,X:35-459000,4:2334-5555/pathway")
querydf<-fromJSON(query)
#Get any warnings that may be worth noting
query_warnings<-querydf$warning
querydf<-fromJSON(query)
query_errors<-querydf$error
text <- readLines(curl(query))
install.packages("curl")
text <- readLines(RCurl(query))
text <- readLines(curl(query))
library(curl)
text <- readLines(curl(query))
query<-getURL("ws.bioinfo.cipf.es/cellbase/rest/latest/hsa/feature/gene/BRCA2/transcript")
querydf<-fromJSON(query)
querydf<-fromJSON(query)
#Get any warnings that may be worth noting
library(RCurl)
library(jsonlite)
query<-getURL("bioinfo.hpc.cam.ac.uk/cellbase/webservices/rest/latest/hsapiens/genomic/region/3:1000-200000,X:35-459000,4:2334-5555/pathway")
library(RCurl)
library(jsonlite)
query<-getURL("bioinfo.hpc.cam.ac.uk/cellbase/webservices/rest/latest/hsapiens/feature/gene/BRCA2,BRCA1,KRAS/info")
querydf<-fromJSON(query)
#Get any warnings that may be worth noting
query_warnings<-querydf$warning
#Get any errors produced by the query
query_errors<-querydf$error
query_result<-querydf$response
# Create a table with the number of responses from each of the queries:
query_stats<-data.frame(query_result[c("id","numTotalResults","numResults")])
names(query_stats)[1]<-"query"
# Filter from the result list the output of those queries that produced no result
queries_with_results<- rowSums(query_stats[,c(2,3)])>0
retrieved_results<-query_result$result[queries_with_results]
test<-data.frame(retrieved_results[[1]]$id,retrieved_results[[1]]$name,retrieved_results[[1]]$description,retrieved_results[[1]]$drugInteractions)
library(RCurl)
library(jsonlite)
json_file <- ("C:\Users\FollonIn\Documents\R\json_ejemplo1.json")
json_file <- ("C:\Users\FollonIn\Documents\R\json_ejemplo1.json")
json_file <- get("C:\Users\FollonIn\Documents\R\json_ejemplo1.json")
fromJSON("C:\Users\FollonIn\Documents\R\json_ejemplo1.json")
fromJSON("C:\Users\FollonIn\Documents\R\json_array1.json")
fromJSON("C:\\Users\\FollonIn\\Documents\\R\\json_array1.json")
exampleJson1 <- fromJSON("C:\\Users\\FollonIn\\Documents\\R\\json_array1.json")
exampleJson2 <- fromJSON("C:\\Users\\FollonIn\\Documents\\R\\json_object1.json")
exampleJson3 <- fromJSON("C:\\Users\\FollonIn\\Documents\\R\\json_array2.json")
exampleJson3
library(RCurl)
library(jsonlite)
# guardar el enlace en el objeto query. Para eso se usa la funcion geturl de Rcurl, que descarga URLs
query<-getURL("bioinfo.hpc.cam.ac.uk/cellbase/webservices/rest/latest/hsapiens/feature/gene/BRCA2,BRCA1,KRAS/info")
querydf<-fromJSON(query)
query_warnings<-querydf$warning
#Get any errors produced by the query
query_errors<-querydf$error
query_result<-querydf$response
# Create a table with the number of responses from each of the queries:
query_stats<-data.frame(query_result[c("id","numTotalResults","numResults")])
names(query_stats)[1]<-"query"
# Filter from the result list the output of those queries that produced no result
queries_with_results<- rowSums(query_stats[,c(2,3)])>0
retrieved_results<-query_result$result[queries_with_results]
test<-data.frame(retrieved_results[[1]]$id,retrieved_results[[1]]$name,retrieved_results[[1]]$description,retrieved_results[[1]]$drugInteractions)
install.packages("vcfR")
install.packages("VariantAnnotation")
install.packages("installr")
library(RCurl)
library(jsonlite)
query <-getURL("bioinfo.hpc.cam.ac.uk/cellbase/webservices/rest/latest/hsa/genomic/variant/10:52575931:G/mutation_phenotype")
querydf<-fromJSON(query)
query_warnings<-querydf$warning
query_errors<-querydf$error
query_result<-querydf$response
query_stats<-data.frame(query_result[c("id","numTotalResults","numResults")])
names(query_stats)[1]<-"query"
queries_with_results<- rowSums(query_stats[,c(2,3)])>0
retrieved_results<-query_result$result[queries_with_results]
test<-data.frame(retrieved_results[[1]]$id,retrieved_results[[1]]$name,retrieved_results[[1]]$description,retrieved_results[[1]]$drugInteractions)
test
query_stats
library(RCurl)
library(jsonlite)
query<-getURL("bioinfo.hpc.cam.ac.uk/cellbase/webservices/rest/latest/hsapiens/feature/gene/BRCA2,BRCA1,KRAS/info")
query
querydf<-fromJSON(query)
query_warnings<-querydf$warning
query_errors<-querydf$error
query_result<-querydf$response
query_stats<-data.frame(query_result[c("id","numTotalResults","numResults")])
query_stats
query_v <-getURL("bioinfo.hpc.cam.ac.uk/cellbase/webservices/rest/latest/hsa/genomic/variant/10:52575931:G/mutation_phenotype")
querydf_v<-fromJSON(query_v)
query_warnings_v<-querydf_v$warning
query_errors_v<-querydf_v$error
query_result_v<-querydf_v$response
query_stats_v<-data.frame(query_result_v[c("id","numTotalResults","numResults")])
names(query_stats_v)[1]<-"query"
query_stats_v
names(query_stats)[1]<-"query"
query_stats
query_stats
query_v <-getURL("bioinfo.hpc.cam.ac.uk/cellbase/webservices/rest/latest/hsapiens/genomic/variant/10:52575931:G/mutation_phenotype")
querydf_v<-fromJSON(query_v)
query_warnings_v<-querydf_v$warning
query_errors_v<-querydf_v$error
query_result_v<-querydf_v$response
query_stats_v<-data.frame(query_result_v[c("id","numTotalResults","numResults")])
names(query_stats_v)[1]<-"query"
query_stats_v
queries_with_results_v<- rowSums(query_stats_v[,c(2,3)])>0
retrieved_results_v<-query_result_v$result[queries_with_results_v]
test_v<-data.frame(retrieved_results_v[[1]]$id,retrieved_results_v[[1]]$name,retrieved_results_v[[1]]$description,retrieved_results_v[[1]]$drugInteractions)
test_v
query_v <-getURL("bioinfo.hpc.cam.ac.uk/cellbase/webservices/rest/latest/hsa/genomic/region/1:3972105-12973105/gene")
querydf_v<-fromJSON(query_v)
query_warnings_v<-querydf_v$warning
query_errors_v<-querydf_v$error
query_result_v<-querydf_v$response
query_stats_v<-data.frame(query_result_v[c("id","numTotalResults","numResults")])
names(query_stats_v)[1]<-"query"
query_stats_v
queries_with_results_v<- rowSums(query_stats_v[,c(2,3)])>0
retrieved_results_v<-query_result_v$result[queries_with_results_v]
test_v<-data.frame(retrieved_results_v[[1]]$id,retrieved_results_v[[1]]$name,retrieved_results_v[[1]]$description,retrieved_results_v[[1]]$drugInteractions)
test_v
query_v <-getURL("bioinfo.hpc.cam.ac.uk/cellbase/webservices/rest/latest/hsapiens/genomic/region/1:3972105-12973105/gene")
querydf_v<-fromJSON(query_v)
query_warnings_v<-querydf_v$warning
query_errors_v<-querydf_v$error
query_result_v<-querydf_v$response
query_stats_v<-data.frame(query_result_v[c("id","numTotalResults","numResults")])
names(query_stats_v)[1]<-"query"
query_stats_v
queries_with_results_v<- rowSums(query_stats_v[,c(2,3)])>0
retrieved_results_v<-query_result_v$result[queries_with_results_v]
test_v<-data.frame(retrieved_results_v[[1]]$id,retrieved_results_v[[1]]$name,retrieved_results_v[[1]]$description,retrieved_results_v[[1]]$drugInteractions)
test_v
query_v <-getURL("bioinfo.hpc.cam.ac.uk/cellbase/webservices/rest/latest/hsapiens/genomic/region/1:3972105-12973105/gene")
library(RCurl)
library(jsonlite)
query_v <-getURL("bioinfo.hpc.cam.ac.uk/cellbase/webservices/rest/latest/hsapiens/genomic/region/1:3972105-12973105/gene")
querydf_v<-fromJSON(query_v)
query_warnings_v<-querydf_v$warning
query_errors_v<-querydf_v$error
query_result_v<-querydf_v$response
query_stats_v<-data.frame(query_result_v[c("id","numTotalResults","numResults")])
names(query_stats_v)[1]<-"query"
query_stats_v
query<-getURL("bioinfo.hpc.cam.ac.uk/cellbase/webservices/rest/latest/hsapiens/feature/gene/BRCA2,BRCA1,KRAS/info")
query
querydf<-fromJSON(query)
query_warnings<-querydf$warning
query_errors<-querydf$error
query_result<-querydf$response
query_stats<-data.frame(query_result[c("id","numTotalResults","numResults")])
query_stats
query_stats_v
names(query_stats)[1]<-"query"
query_stats
query_v <-getURL("bioinfo.hpc.cam.ac.uk/cellbase/webservices/rest/latest/hsapiens/genomic/region/1:18149476-18149476/gene")
query<-getURL("bioinfo.hpc.cam.ac.uk/cellbase/webservices/rest/latest/hsapiens/feature/gene/BRCA2,BRCA1,KRAS/info")
querydf_v<-fromJSON(query_v)
query
querydf<-fromJSON(query)
query_warnings_v<-querydf_v$warning
query_errors_v<-querydf_v$error
query_warnings<-querydf$warning
query_errors<-querydf$error
query_result_v<-querydf_v$response
query_result<-querydf$response
query_result_v<-querydf_v$response
query_stats_v<-data.frame(query_result_v[c("id","numTotalResults","numResults")])
names(query_stats_v)[1]<-"query"
query_result<-querydf$response
query_stats<-data.frame(query_result[c("id","numTotalResults","numResults")])
names(query_stats)[1]<-"query"
query_stats
query_stats_v
queries_with_results_v<- rowSums(query_stats_v[,c(2,3)])>0
retrieved_results_v<-query_result_v$result[queries_with_results_v]
test_v<-data.frame(retrieved_results_v[[1]]$id,retrieved_results_v[[1]]$name,retrieved_results_v[[1]]$description,retrieved_results_v[[1]]$drugInteractions)
test_v
queries_with_results<- rowSums(query_stats[,c(2,3)])>0
queries_with_results
retrieved_results<-query_result$result[queries_with_results]
test<-data.frame(retrieved_results[[1]]$id,retrieved_results[[1]]$name,retrieved_results[[1]]$description,retrieved_results[[1]]$drugInteractions)
test
queries_with_results
queries_with_results_v
setwd("~/GitHub/vcf_pk")
